# Data-Visualization

1  Murder ratesPunishment for crime has many philosophical justifications.  An important one is that fear of punishmentmay deter people from committing crimes.  In the United States, some jurisdictions execute some peoplewho are convicted of particularly serious crimes, like murder. This punishment is called the death penaltyor capital punishment.  The death penalty is controversial, and deterrence has been one focal point ofthe debate.  There are other reasons to support or oppose the death penalty, but in this project we’llfocus on deterrence.The key question about deterrence is:Does instituting a death penalty for murder actuallyreduce the number of murders?You  might  have  a  strong  intuition  in  one  direction,  but  the  evidence  turns  out  to  be  surprisinglycomplex.   Different  sides  have  variously  argued  that  the  death  penalty  has  no  deterrent  effect  andthat each execution prevents 8 murders, all using statistical arguments!  We’ll try to come to our ownconclusion.Here is a road map for this project:1.  In the rest of this section, we’ll investigate the main dataset we’ll be using.2.  In section 2, we’ll see how to test null hypotheses like this:  “For this set of U.S. states, the murderrate was equally likely to go up or down each year.”3.  In section 3, we’ll apply a similar test to see whether U.S. states that suddenly ended or reinstitutedthe death penalty were more likely to see murder rates increase than decrease.4.  In section 4,  we will run some more tests to further claims we had been developing in previoussections.5.  In section 5, we’ll try to answer our question about deterrence using a visualization rather than aformal hypothesis test.1
1.1  The DataThe  main  data  source  for  this  project  comes  from  a  paper  by  three  researchers,  Dezhbakhsh,  Rubin,and Shepherd.  The dataset contains rates of various violent crimes for every year 1960-2003 (44 years)in every US state.  The researchers compiled their data from the FBI’s Uniform Crime Reports.  Sincecrimes are committed by people, not states, we need to account for the number of people in each statewhen we’re looking at state-level data.  Murder rates are calculated as follows:murder rate for state X in year Y = 100000 * (number of murders in state X in year Y /population in state X in year Y)(Murder is rare, so we multiply by 100,000 just to avoid dealing with tiny numbers.)So far, this looks like a dataset that lends itself to an observational study.  In fact, these data aren’teven enough to demonstrate an association between the existence of the death penalty in a state in ayear and the murder rate in that state and year!Question 1.1.What additional information will we need before we can check for that association?Murder rates vary over time, and different states exhibit different trends.  The rates in some stateschange dramatically from year to year, while others are quite stable.  Let’s plot a couple, just to see thevariety.Question 1.2.Draw a line plot with years on the horizontal axis and murder rates on the vertical axis.Include two lines:  one for Alaska murder rates and one for Minnesota murder rates.  Create this plotusing a single call:akmn.plot(’Year’).Question 1.3.Implement the functionmostmurderous, which takes a year (an integer) as its argument.It does two things:1.  It draws a horizontal bar chart of the 5 states that had the highest murder rate in that year.2.  It returns an array of the names of these states in order of increasing murder rate.Question 1.4.How  many  more  people  were  murdered  in  California  in  1988  than  in  1975?   Assigncachangeto the answer.2  Changes in Murder RatesMurder rates vary widely across states and years, presumably due to the vast array of differences amongstates and across US history.  Rather than attempting to analyze rates themselves, here we will restrictour analysis to whether or not murder rates increased or decreased over certain time spans.  We will notconcern ourselves with how much rates increased or decreased; only the direction of the change - whetherthey increased or decreased.Question 2.1.  Implement the functiontwoyearchangesthat takes an array of murder rates for a state,ordered by increasing year.  For all two-year periods (e.g., from 1960 to 1962), it computes and returnsthe number of increases minus the number of decreases.We can usetwoyearchangesto summarize whether rates are mostly increasing or decreasing overtime for some state or group of states.  Let’s see how it varies across the 50 US states.2
Question 2.2.Assignchangesbystateto a table with one row per state that has two columns:  theState name and the Murder Ratetwoyearchangesstatistic computed across all years in our data setfor that state.Question 2.3.Assigntotalchangesto the total increases minus the total decreases for all two-yearperiods and all states in our data set.Question 2.4.Setnumchangesto the number of different two-year periods in the entire data set thatcould result in a change of a state’s murder rate.  Include both those periods where a change occurredand the periods where a state’s rate happened to stay the same.We now have enough information to perform a hypothesis test.Null Hypothesis:  State murder rates increase and decrease over two-year periods as if “increase” or“decrease” were sampled at random from a uniform distribution, like a fair coin flip.Since it’s possible that murder rates are more likely to go up or more likely to go down, our alternativehypothesis should contemplate either case:Alternative Hypothesis:   State  murder  rates  are  either  more  likely  or  less  likely  to  increase  thandecrease over two-year periods.Technical note:  These changes in murder rates are not random samples from any population.  Theydescribe all murders in all states over all recent years.  However, we can imagine that history could havebeen different, and that the observed changes are the values observed in only one possible world:  theone that happened to occur.  In this sense, we can evaluate whether the observed “total increases minustotal decreases” is consistent with a hypothesis that increases and decreases are drawn at random froma uniform distribution.Question 2.5.  Given these null and alternative hypotheses, define a good test statistic.Important requirements for your test statistic:Choose a test statistic for which large positivevalues are evidence in favor of the alternative hypothesis, and other values are evidence in favor of thenull hypothesis.  Your test statistic should depend only on whether murder rates increased or decreased,not on the size of any change.Question 2.6.Complete  the  simulation  below,  which  samplesnumchangesincreases/decreases  atrandom many times and forms an empirical distribution of your test statistic under the null hypothesis.Your job is to•fill in the functionsimulateundernull, which simulates a single sample under the null hypothesis,and•fill in its argument when it’s called below.3
Question 2.7.Looking  at  this  histogram,  draw  a  conclusion  about  whether  murder  rates  basicallyincrease as often as they decrease.3  The death penaltySome US states have the death penalty, and others don’t, and laws have changed over time.  In additionto changes in murder rates, we will also consider whether the death penalty was in force in each stateand each year.  Using this information, we would like to investigate how the death penalty affects themurder rate of a state.Question 3.1.Describe this investigation in terms of an experiment.  What population are we studying?What is the control group?  What is the treatment group?  What outcome are we measuring?Question 3.2.We want to know whether the death penalty causes a change in the murder rate.  Whyis it not sufficient to compare murder rates in places and times when the death penalty was in force withplaces and times when it wasn’t?3.1  A Natural ExperimentIn order to attempt to investigate the causal relationship between the death penalty and murder rates,we’re going to take advantage of a natural experiment.  A natural experiment happens when somethingother than experimental design applies a treatment to one group and not to another (control) group,and we can reasonably expect that the treatment and control groups don’t have any other systematicdifferences.Our natural experiment is this:  in 1972, a Supreme Court decision called Furman v.  Georgia bannedthe death penalty throughout the US. Suddenly, many states went from having the death penalty to nothaving the death penalty.As a first step, let’s see how murder rates changed before and after the court decision.  We’ll definethe test as follows:•Population:  All the states that had the death penalty before the 1972 abolition.  (There is nocontrol group for the states that already lacked the death penalty in 1972, so we must omit them.)This includes all US states except Alaska, Hawaii, Maine, Michigan, Wisconsin, and Minnesota.4
•Treatment group:The states in that population, in the year after 1972.•Control group:The states in that population, in the year before 1972.•Null hypothesis:Each state’s murder rate was equally likely to be higher or lower in the treatmentperiod than in the control period.  (Whether the murder rate increased or decreased in each statewas like the flip of a fair coin.)•Alternative hypothesis:The murder rate was more likely to increase or more likely to decrease.Technical Note:It’s not clear that the murder rates were a ”sample” from any larger population.Again, it’s useful to imagine that our data could have come out differently and to test the null hypothesisthat the murder rates were equally likely to move up or down.Question 3.3.Assigndeathpenaltymurderratesto a table with the same columns and data asmurderrates, but that has only the rows for states that had the death penalty in 1971.The null hypothesis doesn’t specify how the murder rate changes; it only talks about increasing ordecreasing.  So, we will use the same test statistic you defined in section 2.Question 3.4.  Assignchanges72to the value of the test statistic for the years 1971 to 1973 and thestates indeathpenaltymurderrates.Question 3.5.Draw an empirical histogram of the statistic under the null hypothesis by simulatingthe test statistic 5,000 times.3.2  ConclusionQuestion 3.6.Complete the analysis as follows:1.  Compute a P-value.2.  Draw a conclusion about the null and alternative hypotheses.3.  Describe  your  findings  using  simple,  non-technical  language.   Be  careful  not  to  claim  that  thestatistical analysis has established more than it really has.4  Further evidenceSo far, we have discovered evidence that when executions were outlawed, the murder rate increased inmany more states than we would expect from random chance.  We have also seen that across all statesand  all  recent  years,  the  murder  rate  goes  up  about  as  much  as  it  goes  down  over  two-year  periods.These discoveries seem to support the claim that eliminating the death penalty increases the murderrate.  Should we be convinced?  Let’s conduct some more tests to strengthen our claim.Conducting a test for this data set required the following steps:1.  Select a table containing murder rates for certain states and all years,2.  Choose two years and compute the observed value of the test statistic,3.  Simulate the test statistic under the null hypothesis that increases and decreases are drawn uni-formly at random, then5
4.  Compare the observed difference to the empirical distribution to compute a P-value.This entire process can be expressed in a single function, calledruntest.Question 4.1.Implementruntest, which takes the following arguments:•A table of murder rates for certain states, sorted by state and year likemurderrates, and•the year when the analysis starts.  (The comparison group is two years later.)It prints out the observed test statistic and returns the P-value for this statistic under the null hypothesis.4.1  The death penalty reinstatedIn  1976,  the  Supreme  Court  repealed  its  ban  on  the  death  penalty  in  its  rulings  on  a  series  of  casesincluding Gregg v.  Georgia, so the death penalty was reinstated where it was previously banned.  Thisgenerated a second natural experiment.  To the extent that the death penalty deters murder, reinstatingit should decrease murder rates, just as banning it should increase them.Question 4.3.Now we’ve analyzed states where the death penalty went away and came back, as wellas states where the death penalty was outlawed all along.  What do you conclude from the results of thetests we have conducted so far?  Does all the evidence consistently point toward one conclusion, or isthere a contradiction?5  VisualizationWhile  our  analysis  appears  to  support  the  conclusion  that  the  death  penalty  deters  murder,  a  2006Stanford Law Review paper argues the opposite:  that historical murder rates do not provide evidencethat  the  death  penalty  deters  murderers.   To  understand  their  argument,  we  will  draw  a  picture.   Infact, we’ve gone at this whole analysis rather backward; typically we should draw a picture first and askprecise statistical questions later!  What plot should we draw?We know that we want to compare murder rates of states with and without the death penalty.  Weknow we should focus on the period around the two natural experiments of 1972 and 1976, and we wantto understand the evolution of murder rates over time for those groups of states.  It might be useful tolook at other time periods, so let’s plot them all for good measure.Question 5.1.Create a table calledaveragemurderrateswith 1 row for each year inmurderrates.  Itshould have 3 columns:•Year, the year,•Death penalty states, the average murder rate of the states that had the death penalty in 1971,and•No death penalty states, the average murder rate of the other states.averagemurderratesshould be sorted in increasing order by year.Question 5.2.Describe in one short sentence a high-level takeaway from the line plot below.  Are themurder rates in these two groups of states related?averagemurderrates.plot(’Year’).6
Question 5.3.Complete their argument in 2-3 sentences;  what features of these plots indicate thatthe death penalty is not an important factor in determining the murder rate?  (If you’re stuck, read thepaper.)Question 5.5.What assumption(s) did we make in Parts 1 through 4 of the project that led us tobelieve that the death penalty deterred murder, when in fact the line plots tell a different story?7
